{% extends "layout.html" %}

{% block title %}
    Italian Brain Rot
{% endblock %}

{% block header %}
    <a href="{{ url_for('italian_brain_rot') }}" class="header-link text-white text-decoration-none">
        Italian Brain Rot
    </a>
{% endblock %}

{% block main %}
<!-- Custom CSS to adjust arrow positioning -->
<style>
  /* Add side padding to the carousel container to create space for the arrows */
  #carouselItalianBrainRot {
    position: relative;
    padding: 0 70px;
  }
  /* Style the navigation arrows */
  .carousel-control-prev,
  .carousel-control-next {
    width: 50px;
    height: 50px;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
  }
  /* Position the left arrow */
  .carousel-control-prev {
    left: 10px;
  }
  /* Position the right arrow */
  .carousel-control-next {
    right: 10px;
  }
  /* Invert arrow colors for better contrast */
  .carousel-control-prev-icon,
  .carousel-control-next-icon {
    filter: invert(1);
  }
  /* Ensure images display properly with natural height */
  .carousel-item img {
    width: 100%;
    height: auto;
    display: block;
  }
  /* Style the sound button with an outline appearance */
  .sound-btn {
    font-size: 1.5rem;
    padding: 0.5rem 1rem;
  }
</style>

<div id="carouselItalianBrainRot" class="carousel slide">
    <div class="carousel-inner">
        {% for image in images %}
            <div class="carousel-item {% if loop.first %}active{% endif %}">
                <img src="{{ image }}" alt="Bild {{ loop.index }}">
                <div class="text-center mt-2">
                    <!-- Hidden audio element; source derived from image filename -->
                    <audio id="audio-{{ loop.index }}" src="{{ image.rsplit('.', 1)[0] ~ '.m4a' }}"></audio>
                    <!-- Outlined button with sound icon -->
                    <button type="button" class="btn btn-outline-secondary sound-btn" title="Play Sound" onclick="document.getElementById('audio-{{ loop.index }}').play()">
                        <i class="fa-solid fa-volume-up"></i>
                    </button>
                </div>
            </div>
        {% endfor %}
    </div>
    <!-- Navigation arrows positioned outside the image area -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselItalianBrainRot" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Zur√ºck</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselItalianBrainRot" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Weiter</span>
    </button>
</div>
{% endblock %}
